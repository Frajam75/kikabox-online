<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAd86VRjAKDRO35FmkIBpezjWNjjyt1k-Y",
    authDomain: "kikabox-7a71b.firebaseapp.com",
    projectId: "kikabox-7a71b",
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  onAuthStateChanged(auth, (user) => {
    if (!user) {
      // NON loggato → vai a login.html
      window.location.href = "login.html";
    }
  });
</script>

<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Gestione Moduli - Kikabox</title>
    <link rel="stylesheet" href="style.css">
    <script src="salva_visibilita.js" defer></script>
</head>
<body>
    <div class="container">
        <h1>Gestione Visibilità Moduli</h1>
        <form id="visibilityForm">
            <label><input type="checkbox" name="ascolto" checked> Modulo Ascolto</label><br>
            <label><input type="checkbox" name="karaoke" checked> Modulo Karaoke</label><br>
            <label><input type="checkbox" name="chat" checked> Modulo Chat</label><br>
            <label><input type="checkbox" name="voti" checked> Modulo Voti</label><br>
            <label><input type="checkbox" name="suggerimenti" checked> Modulo Suggerimenti</label><br>
            <label><input type="checkbox" name="annunci" checked> Modulo Annunci</label><br>
            <label><input type="checkbox" name="pagina_visibile" checked> Pagina Visibile</label><br><br>
            <button type="submit">Salva modifiche</button>
        </form>
        <p id="salvataggioStatus"></p>
    </div>
</body>
</html>
